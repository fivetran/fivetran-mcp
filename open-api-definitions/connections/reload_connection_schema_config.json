{
  "openapi": "3.0.1",
  "info": {
    "title": "Reload a Connection Schema Config",
    "description": "Reloads the connection schema config for an existing connection within your Fivetran account.\n\n> NOTE: This method reloads the full schema from the connection's data source. It may take a long time to complete the request. The method execution speed depends on the schema size and the number of databases, tables, and columns.\n>\n> The response contains all known schemas and tables. Also, it contains columns whose state has ever been set by the user. For more information, see also the [Connection Schema config](https://fivetran.com/docs/rest-api/tutorials/connection-schema-configuration-use-cases) tutorial.\n"
  },
  "path": "/v1/connections/{connectionId}/schemas/reload",
  "method": "POST",
  "operation": {
    "tags": [
      "Connection Schema Management"
    ],
    "summary": "Reload a Connection Schema Config",
    "description": "Reloads the connection schema config for an existing connection within your Fivetran account.\n\n> NOTE: This method reloads the full schema from the connection's data source. It may take a long time to complete the request. The method execution speed depends on the schema size and the number of databases, tables, and columns.\n>\n> The response contains all known schemas and tables. Also, it contains columns whose state has ever been set by the user. For more information, see also the [Connection Schema config](https://fivetran.com/docs/rest-api/tutorials/connection-schema-configuration-use-cases) tutorial.\n",
    "operationId": "reload_connection_schema_config",
    "parameters": [
      {
        "name": "connectionId",
        "in": "path",
        "description": "The unique identifier for the connection within the Fivetran system.",
        "required": true,
        "schema": {
          "type": "string",
          "example": "connectionId"
        },
        "example": "connectionId"
      },
      {
        "name": "Accept",
        "in": "header",
        "schema": {
          "type": "string",
          "example": "application/json",
          "default": "application/json"
        }
      }
    ],
    "requestBody": {
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/ReloadStandardConfigRequest"
          }
        }
      }
    },
    "responses": {
      "200": {
        "description": "Successful response",
        "content": {
          "application/json": {
            "schema": {
              "required": [
                "code",
                "data"
              ],
              "properties": {
                "code": {
                  "type": "string",
                  "description": "Response status code",
                  "example": "Success"
                },
                "message": {
                  "type": "string",
                  "description": "Response status text",
                  "example": "Operation performed."
                },
                "data": {
                  "$ref": "#/components/schemas/StandardConfigResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "StandardConfigResponse": {
        "required": [
          "schema_change_handling",
          "schemas"
        ],
        "type": "object",
        "properties": {
          "enable_new_by_default": {
            "type": "boolean",
            "description": "The boolean value specifying whether to enable new schemas, tables, and columns by default",
            "example": true
          },
          "schemas": {
            "title": "Schemas",
            "type": "object",
            "properties": {
              "schema": {
                "$ref": "#/components/schemas/SchemaConfigResponse"
              }
            },
            "description": "The set of schemas within your connection schema config."
          },
          "schema_change_handling": {
            "type": "string",
            "description": "The possible values for the schema_change_handling parameter are as follows: <br /> ALLOW_ALL - all new schemas, tables, and columns which appear in the source after the initial setup are included in syncs <br /> ALLOW_COLUMNS - all new schemas and tables which appear in the source after the initial setup are excluded from syncs, but new columns are included <br /> BLOCK_ALL - all new schemas, tables, and columns which appear in the source after the initial setup are excluded from syncs",
            "example": "ALLOW_ALL",
            "enum": [
              "ALLOW_ALL",
              "ALLOW_COLUMNS",
              "BLOCK_ALL"
            ]
          }
        }
      },
      "SchemaConfigResponse": {
        "required": [
          "enabled",
          "name_in_destination",
          "tables"
        ],
        "type": "object",
        "properties": {
          "name_in_destination": {
            "type": "string",
            "description": "The schema name within your destination in accordance with Fivetran conventional rules",
            "example": "schema_name_in_destination"
          },
          "enabled": {
            "type": "boolean",
            "description": "The boolean value specifying whether the sync for the table into the destination is enabled.",
            "example": true
          },
          "tables": {
            "title": "Tables",
            "type": "object",
            "properties": {
              "table": {
                "$ref": "#/components/schemas/TableConfigResponse"
              }
            },
            "description": "The set of tables within your database schema config."
          }
        }
      },
      "TableConfigResponse": {
        "required": [
          "columns",
          "enabled",
          "enabled_patch_settings",
          "name_in_destination"
        ],
        "type": "object",
        "properties": {
          "sync_mode": {
            "type": "string",
            "description": "This field appears in the response if the connection supports switching sync modes for tables",
            "example": "SOFT_DELETE",
            "enum": [
              "SOFT_DELETE",
              "HISTORY",
              "LIVE"
            ]
          },
          "name_in_destination": {
            "type": "string",
            "description": "The schema name within your destination in accordance with Fivetran conventional rules",
            "example": "table_name_in_destination"
          },
          "enabled": {
            "type": "boolean",
            "description": "The boolean value specifying whether the sync for the table into the destination is enabled.",
            "example": true
          },
          "columns": {
            "title": "Columns",
            "type": "object",
            "properties": {
              "column": {
                "$ref": "#/components/schemas/ColumnConfigResponse"
              }
            },
            "description": "The set of columns within your table schema config. The `columns` object in the response contains the columns whose `enabled` value has been set by the user after the initial sync."
          },
          "enabled_patch_settings": {
            "$ref": "#/components/schemas/TableEnabledPatchSettings"
          },
          "supports_columns_config": {
            "type": "boolean"
          }
        }
      },
      "ColumnConfigResponse": {
        "required": [
          "enabled",
          "enabled_patch_settings",
          "hashed",
          "name_in_destination"
        ],
        "type": "object",
        "properties": {
          "name_in_destination": {
            "type": "string",
            "description": "The schema name within your destination in accordance with Fivetran conventional rules",
            "example": "column_name_in_destination"
          },
          "enabled": {
            "type": "boolean",
            "description": "The boolean value specifying whether the sync for the table into the destination is enabled.",
            "example": true
          },
          "hashed": {
            "type": "boolean",
            "description": "The boolean value specifying whether a column should be hashed",
            "example": false
          },
          "enabled_patch_settings": {
            "$ref": "#/components/schemas/ColumnEnabledPatchSettings"
          },
          "is_primary_key": {
            "type": "boolean"
          }
        }
      },
      "ColumnEnabledPatchSettings": {
        "required": [
          "allowed"
        ],
        "type": "object",
        "properties": {
          "allowed": {
            "type": "boolean",
            "description": "The boolean value specifying whether the enabled property can be updated",
            "example": false
          },
          "reason": {
            "type": "string",
            "description": "The additional message indicating the reason why the enabled property cannot be updated. This field appears in the response only when the reason_code value is OTHER",
            "example": "..."
          },
          "reason_code": {
            "type": "string",
            "description": "The reason code indicating the reason why the enabled property cannot be updated: <br /> SYSTEM_TABLE - the table is a system table <br /> DELETED - the table was deleted in the source <br /> OTHER - the table was excluded by the system for some reason <br /> This field appears in the response when the allowed property value is FALSE",
            "example": "SYSTEM_COLUMN",
            "enum": [
              "SYSTEM_COLUMN",
              "DELETED",
              "OTHER"
            ]
          }
        }
      },
      "TableEnabledPatchSettings": {
        "required": [
          "allowed"
        ],
        "type": "object",
        "properties": {
          "allowed": {
            "type": "boolean",
            "description": "The boolean value specifying whether the enabled property can be updated",
            "example": false
          },
          "reason": {
            "type": "string",
            "description": "The additional message indicating the reason why the enabled property cannot be updated. This field appears in the response only when the reason_code value is OTHER",
            "example": "..."
          },
          "reason_code": {
            "type": "string",
            "description": "The reason code indicating the reason why the enabled property cannot be updated: <br /> SYSTEM_TABLE - the table is a system table <br /> DELETED - the table was deleted in the source <br /> OTHER - the table was excluded by the system for some reason <br /> This field appears in the response when the allowed property value is FALSE",
            "example": "SYSTEM_TABLE",
            "enum": [
              "SYSTEM_TABLE",
              "DELETED",
              "OTHER"
            ]
          }
        }
      },
      "ReloadStandardConfigRequest": {
        "type": "object",
        "properties": {
          "exclude_mode": {
            "type": "string",
            "description": "Specifies whether all schemas and tables will be enabled or disabled in the standard config. By specifying the `exclude_mode` parameter value, you can enable or disable syncing for all schemas and tables when reloading the connection schema config.\n\nWhen the default `PRESERVE` value is set, all selected schemas and tables in the standard config preserve their state.\n\nWhen the `EXCLUDE` value is set, the columns that haven't been updated by user yet are not excluded from the sync. Such columns may be present in the source and not displayed in the response, but they are considered to be included in the sync by default. If you enable syncing of their table, then all of these columns from the source will be synced in the next sync cycle. See also [Troubleshooting: How to enable syncs only for the columns you need](https://fivetran.com/docs/rest-api/tutorials/enable-sync-for-columns-you-need).\n",
            "example": "PRESERVE"
          }
        }
      }
    }
  }
}